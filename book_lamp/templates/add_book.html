<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Add Book</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 2rem;
        }

        .messages {
            margin-bottom: 1rem;
        }

        .messages .error {
            color: #b00020;
        }

        .messages .success {
            color: #006400;
        }

        .messages .info {
            color: #1e3a8a;
        }

        form {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        input[type="text"] {
            padding: 0.5rem;
            width: 260px;
        }

        button {
            padding: 0.55rem 0.9rem;
        }

        a {
            margin-left: 1rem;
        }
    </style>
</head>

<body>
    <h1>Add a Book by ISBN-13</h1>

    <div class="messages">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="{{ category }}">{{ message }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}
        {% if error_message %}
        <div class="info">{{ error_message }}</div>
        {% endif %}
        {% if request.args.get('m') %}
        <div class="info">{{ request.args.get('m') }}</div>
        {% endif %}
    </div>

    <form method="post" action="{{ url_for('create_book') }}">
        <label for="isbn">ISBN-13</label>
        <input id="isbn" name="isbn" type="text" maxlength="17" placeholder="9781234567897" required>
        <button type="submit">Add</button>
        <a href="{{ url_for('list_books') }}">View all</a>
    </form>
</body>

</html>